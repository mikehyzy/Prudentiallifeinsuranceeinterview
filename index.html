
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Prudential Life Insurance E-Interview</title>
    </head>

    <body>
      <div id="root"></div>
      <script type="module" src="/src/main.tsx"></script>

      <!-- Add this inline script BEFORE the ElevenLabs widget -->
      <script>
      // Define fillFormField before ANYTHING else loads
      window.fillFormField = function(fieldName, value) {
          console.log('FORM FILL CALLED:', fieldName, value);

          // Wait for DOM if needed
          if (document.readyState === 'loading') {
              document.addEventListener('DOMContentLoaded', () => {
                  actuallyFillField(fieldName, value);
              });
          } else {
              actuallyFillField(fieldName, value);
          }

          function actuallyFillField(name, val) {
              const field = document.getElementById(name) ||
                           document.querySelector(`input[name="${name}"]`);
              if (field) {
                  field.value = val;
                  field.style.border = '2px solid #0046B8';
                  console.log('✓ Filled:', name);
              } else {
                  console.log('✗ No field:', name);
              }
          }

          return { success: true };
      };

      // Also try exposing it globally multiple ways
      globalThis.fillFormField = window.fillFormField;
      self.fillFormField = window.fillFormField;

      console.log('fillFormField defined INLINE before widget loads');

      // Wait for ElevenLabs widget to load and attach the function to it
      function attachToWidget() {
          const widget = document.querySelector('elevenlabs-convai');
          if (widget) {
              widget.fillFormField = window.fillFormField;
              console.log('✓ fillFormField attached to widget element');

              // Also try attaching to shadow root if it exists
              if (widget.shadowRoot) {
                  widget.shadowRoot.fillFormField = window.fillFormField;
                  console.log('✓ fillFormField attached to shadow root');
              }
          } else {
              console.log('Widget not found, retrying...');
              setTimeout(attachToWidget, 100);
          }
      }

      // Start trying to attach after DOM loads
      if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', attachToWidget);
      } else {
          attachToWidget();
      }
      </script>

      <!-- NOW load ElevenLabs widget -->
      <elevenlabs-convai agent-id="agent_4301k95kgvjcf7pae9s837pe3bca"></elevenlabs-convai>
      <script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"></script>
    </body>
  </html>
  